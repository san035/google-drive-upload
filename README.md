# –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ –≤ Google Drive

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Go –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ Google Drive —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–ø–∏—è–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–≤–æ—Ç—ã.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

üìñ **–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** [examples/basic-usage/](examples/basic-usage/)

### –ö—Ä–∞—Ç–∫–∏–π –ø—Ä–∏–º–µ—Ä

```go
package main

import (
    "context"
    "drive-uploader/pkg/config"
    "drive-uploader/pkg/googledrive"
)

func main() {
    ctx := context.Background()

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    cfg, err := config.LoadConfig("configgoogledrive.yaml")
    if err != nil {
        panic(err)
    }

    // –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–≤–∏—Å Google Drive
    driveService, err := googledrive.NewDriveService(ctx, cfg.ConfigGoogleDrives)
    if err != nil {
        panic(err)
    }

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª
    if err := driveService.UploadFile(ctx, "my-file.txt"); err != nil {
        panic(err)
    }
}
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** –Ω–∞ Google Drive
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ø–∏—è–º–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–≤–æ—Ç—ã** - –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤** Google Drive
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ YAML** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ **OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø–∞–∫–µ—Ç –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

```bash
go get github.com/your-username/drive-uploader
```

```go
import "github.com/your-username/drive-uploader/pkg/googleupload"
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
git clone <repository-url>
cd drive-uploader
go mod tidy
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
drive-uploader/
‚îú‚îÄ‚îÄ main.go                           # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ config.yaml                       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îú‚îÄ‚îÄ googledrive/                  # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.go                 # –ö–ª–∏–µ–Ω—Ç Google Drive
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ quota.go                  # –†–∞–±–æ—Ç–∞ —Å –∫–≤–æ—Ç–æ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ token.go                  # OAuth2 —Ç–æ–∫–µ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ config/                       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ config.go                 # –ó–∞–≥—Ä—É–∑–∫–∞ YAML –∫–æ–Ω—Ñ–∏–≥–æ–≤
‚îî‚îÄ‚îÄ examples/                         # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    ‚îî‚îÄ‚îÄ basic-usage/                  # –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã
        ‚îú‚îÄ‚îÄ main.go                   # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
        ‚îú‚îÄ‚îÄ config.yaml               # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        ‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∞
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ credentials –¥–ª—è Google Drive API

–°–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é CREDENTIALS_GOOGLE_DRIVE.md](docs/CREDENTIALS_GOOGLE_DRIVE.md)

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

```bash
go run main.go
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
1. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–µ–¥–µ—Ç —Å—Å—ã–ª–∫—É –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç `a.n.skoroh@gmail.com`
3. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Google Drive
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥
5. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª

–§–∞–π–ª `token.json` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–æ–≤.

## –û —Ç–æ–∫–µ–Ω–∞—Ö

–ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–ª—É—á–∞–µ—Ç –¥–≤–∞ —Ç–æ–∫–µ–Ω–∞:

| –¢–æ–∫–µ–Ω | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è |
|-------|------------|---------------|
| **Access Token** | –î–æ—Å—Ç—É–ø –∫ API Drive | ~1 —á–∞—Å |
| **Refresh Token** | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Access Token | –î–æ 6-12 –º–µ—Å—è—Ü–µ–≤ |

–§–∞–π–ª `token.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±–∞ —Ç–æ–∫–µ–Ω–∞. –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ Access Token –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Refresh Token –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ ‚Äî **–ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è**.

### –í–∞–∂–Ω–æ:
- –ï—Å–ª–∏ `token.json` —É–¥–∞–ª–∏—Ç—å ‚Äî –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- Refresh Token –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–æ–∑–≤–∞–Ω Google, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –±–æ–ª–µ–µ 6 –º–µ—Å—è—Ü–µ–≤
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É (—Ä–∞–∑ –≤ 1-2 –º–µ—Å—è—Ü–∞), —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

## –§–∞–π–ª—ã

- `credentials.json` ‚Äî OAuth credentials –æ—Ç Google Cloud Console
- `token.json` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `send_file.txt` ‚Äî —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
